<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MongoDB</title>
    <link rel="stylesheet" href="../assets/css/reveal.css">
    <link rel="stylesheet" href="../assets/css/theme/league.css">
    <link rel="stylesheet" href="../assets/lib/css/zenburn.css">
    <link rel="stylesheet" href="../styles/main.css">
</head>
<body>
    <div class="att_logo"></div>
    <div class="mongo-db-title"></div>
    <div class="reveal">
        <div class="slides">
            <!-- MongoDB Advanced -->
            <section>
                <h1>MongoDB Advanced</h1>
                <p style="font-size: 30px;">Module 6 - Big Data</p>
                <sub>By Almog Laktivi</sub>
            </section>
            <!-- Big Data Capabilities -->
            <section>
                <h2><a href="https://docs.mongodb.com/manual/core/map-reduce/" target="_blank">Big Data Capabilities</a></h2>
                <section>
                    <ul>
                        <li>With sharding, mongoDB can reach to large volumes of data which may cause to processing time problems</li>
                        <li>To solve this issue mongoDB implemented the .mapReduce command</li>
                        <li>Map-reduce is a data processing paradigm for condensing large volumes of data into useful aggregated results</li>
                        <li>Map-reduce developed to process massive amounts of data <u>efficiently</u></li>
                        <li>Have finalize function which runs after each reduce</li>
                        <li>Supports incremental calculation</li>
                    </ul>
                </section>
                <section>
                    <img style="width: 80%; background: white; border: 0px; box-shadow: 0 0 0px;" src="../assets/big-data-1.png">
                </section>
                <section>
                    <img style="width: 60%; background: white; border: 0px; box-shadow: 0 0 0px;" src="https://docs.mongodb.com/manual/_images/map-reduce.bakedsvg.svg">
                </section>
                <section>
                    <ul>
                        <li>Map function – extracts the desired value from the document by emit function</li>
                        <li>Reduce function – aggregate all the outputs of map function into one object</li>
                        <li>.mapReduce can return the results of a map-reduce operation as a document, or may write the results to collections</li>
                        <li>The input and the output collections may be sharded</li>
                    </ul>
                </section>
                <section>
                    <p>Example</p>
                    <img style="background: white; border: 0px; box-shadow: 0 0 0px;" src="../assets/big-data-2.png">
                </section>
                <section>
                    <p>Example</p>
                    <pre>
                        <code data-trim data-noescape class="bash">
                                var mapFunction1 = function() {
                                    emit(this.cust_id, this.price);
                                };

                                var reduceFunction1 = function(keyCustId, valuesPrices) {
                                    return Array.sum(valuesPrices);
                                };

                                db.orders.mapReduce(
                                    mapFunction1,
                                    reduceFunction1,
                                    { out: "map_reduce_example" }
                                )
                        </code>
                    </pre>
                </section>
            </section>
            <!-- Excercise Time -->
            <section>
                <h2><a href="solution.js" target="_blank">Excercise Time</a></h2>
                <table>
                    <tr>
                        <td>
                            <div style="height: 400px;">
                                <ul>
                                    <li>Use `mapReduce` command to perform calculation of how much money is stored in ATT bank in USD for each account type (handle the converts as part of your calculation)</li>
                                </ul>
                                <img style="width: 50%;" src="../assets/big-data-3.png">
                            </div>
                        </td>
                        <td><img src="https://media.giphy.com/media/UvvK8rOSHPxgjo9ryD/giphy.gif"></tr>
                    </tr>
                </table>
            </section>
            <!-- Next Module -->
            <section>
                <h3>Any questions?</h3>
                <img style="width: 65%; background: transparent; box-shadow: 0 0 0px;" src="https://i.giphy.com/media/ePsV4lBfsrPmo/giphy.webp">
            </section>
        </div>
    </div>
    <script src="../assets/lib/js/head.min.js"></script>
    <script src="../assets/js/reveal.js"></script>
    <!-- Reveal.js init script -->
    <script>
        Reveal.initialize({
            history: true,
            dependencies: [
                { src: '../assets/plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: '../assets/plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: '../assets/plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
            ]
        });
    </script>
</body>
</html>