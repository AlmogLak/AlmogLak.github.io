<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MongoDB</title>
    <link rel="stylesheet" href="../assets/css/reveal.css">
    <link rel="stylesheet" href="../assets/css/theme/league.css">
    <link rel="stylesheet" href="../assets/lib/css/zenburn.css">
    <link rel="stylesheet" href="../styles/main.css">
</head>
<body>
    <div class="att_logo"></div>
    <div class="mongo-db-title"></div>
    <div class="reveal">
        <div class="slides">
            <!-- MongoDB Advanced -->
            <section>
                <h1>MongoDB Advanced</h1>
                <p style="font-size: 30px;">Module 3 - Indexing</p>
                <sub>By Almog Laktivi</sub>
            </section>
            <!-- Indexing -->
            <section>
                <h2>Indexing</h2>
                <section>
                    <div style="font-size: 25px;">
                        <p>The purpose of storing an index is to optimize speed and performance in finding relevant documents for a search query</p>
                        <p>In MongoDB it means that we will scan less documents</p>
                        <p>Indexes are special data structures that store a small portion of the collection’s data set in an easy to traverse form</p>
                        <p>Comes with price</p>
                    </div>
                </section>
                <section>
                    <div style="font-size: 25px;">
                        <ul>
                            <p>Default _id index</p>
                            <li>MongoDB creates a unique index on the _id field during the creation of a collection</li>
                            <li>Prevents inserting two documents with the same value</li>
                            <li>You cannot drop this index</li>
                        </ul>
                    </div>
                </section>
                <section>
                    <ul>
                        <p>Indexes Types</p>
                        <li>Single field – Index on a single field of a document</li>
                        <li>Compound – Index on multiple fields</li>
                        <li>MultiKey – Index the content stored in array, creates separate index entries for every element of the array</li>
                        <li>Geospatial – Index queries of geospatial coordinate data</li>
                        <li>Text – Index which supports searching for string content in a collection</li>
                        <li>Hashed - To support hash based sharding, MongoDB provides a <a href="https://docs.mongodb.com/manual/core/index-hashed/" target="_blank">hashed index</a> type, which indexes the hash of the value of a field</li>
                    </ul>
                </section>
                <section>
                    <p>Without indexes, MongoDB must perform a collection scan, i.e. scan every document in a collection</p>
                    <img src="../assets/indexing1.png" style="width: 40%; border: 0; background: transparent; box-shadow: 0 0 0">
                </section>
                <section>
                    <ul>
                        <li>Create index (1 ASC, -1 DESC):
                            <code class="inline">db.coll.createIndex({field_name: 1})</code></br>
                        </li>
                        <li>Use <code class="inline">db.coll.getIndexes()</code> function in order to get all indexes</li>
                        <li><code class="inline">.explain()</code> function - Returns information on the query plan (executationStats)</li>
                        <li><code class="inline">db.coll.dropIndex("index_name")</code> function will delete the index</li>
                        <li>We can create indexes in the background (good for large collections): <code class="inline">db.coll.createIndex({field_name: 1}, {background: true})</code></li>
                    </ul>
                </section>
            </section>
            <!-- Demo Time -->
            <section>
                <h2>Demo Time</h2>
                <img src="https://media.giphy.com/media/QAaR9zoMUb8814WJ6a/giphy.gif" alt="">
            </section>
            <!-- Next Module -->
            <section>
                <a href="../module-4/index.html">Next Module</a>
            </section>
        </div>
    </div>
    <script src="../assets/lib/js/head.min.js"></script>
    <script src="../assets/js/reveal.js"></script>
    <!-- Reveal.js init script -->
    <script>
        Reveal.initialize({
            history: true,
            dependencies: [
                { src: '../assets/plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: '../assets/plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: '../assets/plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
            ]
        });
    </script>
</body>
</html>